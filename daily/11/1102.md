## 2025年11月2日（日）

### A Tour of Go
### 5-19~: Errors

+ Errorは、エラーメッセージを返すメソッドのみ持つインターフェース。  
どんな型でも`Error() string`を実装すればerrorとして扱うことができる
```go
type error interface {
    Error() string
}

// 通常エラー作成
err := errors.New("何がしかのerror")
// 整形して作成
err := fmt.Errorf("open %s: %v", errorPath, errorMsg)
// 出力
fmt.Println(err) 
```

### 5-21~: Readers
+ 何かから順にバイトを読み出すための最小インタフェース
+ ファイル・ソケット・圧縮/暗号化ストリームなど、読み物はだいたいこれを実装する
```go
// 読み取り対象を引数としてreaderを作成
// （文字列を「読み取り位置を持つストリーム」として包んだio.Reader実装を作るとのこと）
reader := strings.NewReader(targetString)
// 8バイトずつ読み込むバッファを作成
buffer := make([]byte, 8)

for {
    // len(buffer)のバイトをbufferに書き込み、読めたバイトをreadBytesに返す
    readBytes, err := reader.Read(buffer)
    if readBytes > 0 {
        fmt.Printf("read=%d err=%v buf=%v\n", readBytes, err, buffer)
        fmt.Printf("data=%q\n", buffer[:readBytes])
    }
    if err == io.EOF {
        // 読み切り
        break
    }
    if err != nil {
        // 途中エラー処理
        break
    }
}
```