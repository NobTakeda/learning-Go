## 2025年11月2日（日）

### A Tour of Go
### 6-1: Goroutines
+ goキーワードを付けて関数を呼ぶと、その関数が現在の処理とは独立に並行で動かすことができる
+ 同じアドレス空間で実行されるため、共有メモリへのアクセスは必ず同期する必要がある
+ つまり、同じ変数・同じ配列・同じ map を同時に触ると壊れるため、同機を取る必要がある  
→ 次のチャンネルがその仕組みに当たるとのこと

### 6-2: Channelsa

```go
package main

import "fmt"

func sum(s []int, c chan int) {
	sum := 0
    // 受け取ったスライスsをlength分回す。
    // for i, v := range sだとiにindex, vにvalueが入るが、_としているのでindexは破棄される（使わないことを明示的に書いている）
	for _, v := range s {
		sum += v
	}
    // チャンネルcにsumを送信する。
    // s[:3]を渡している場合、7 + 2 + 8で最終的に17が渡されることとなる。
	c <- sum // send sum to c
}

func main() {
	s := []int{7, 2, 8, -9, 4, 0}

	c := make(chan int)
	go sum(s[:len(s)/2], c) // s[:3]となり、スライスsの前半[7,2,8]を引数とする
	go sum(s[len(s)/2:], c) // s[3:]となり、スライスsの後半[-9,4,0]を引数とする

    // この場合、どちらの合計が先に受信されるかは未定。
    // どちらにせよ、(x = 17, y = -5)または(x = -5, y = 17)でx+yは同じ値となる。
	x, y := <-c, <-c // receive from c

	fmt.Println(x, y, x+y)
}
```